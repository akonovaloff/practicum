## 1 Работа с локальным репозиторием
### 1.1 Инициализация  
- Инициализировать репозиторий можно с помощью команды ```git init```.  
- Проверить статус или состояние репозитория поможет команда ```git status```.  
- Если вы ошиблись и случайно инициализировали не ту папку, можно «разгитить» её — удалить скрытую подпапку ```.git```.  
  
### 1.2  Подготовка коммита (кеширование/индексация)
- Команда ```git add``` позволяет подготовить файл к сохранению.  
- Команда ```git add --all``` подготовит к сохранению сразу все файлы.  
- С помощью ```git add .``` можно добавить в репозиторий текущую папку со всеми файлами.  
  
### 1.3 Сохранение изменений в локальный репозиторий (коммит)  
- Коммит можно сделать с помощью команды ```git commit```.  
- Ключ ```-m``` позволяет присвоить коммиту сообщение. Помните, что такие сообщения должны быть информативными: чётко описывать изменения.  
  
### 1.4 Просмотр истории  
- команда ```git log``` выводит список коммитов  
- команда ``` git log --oneline``` выведет ту же информацию, но каждый коммит будет на отдельной строке  
  
## 2 Работа с удаленным репозиторием  
### 2.1 Создание SSH-ключа  
- Пример 1 (шифрование ed25519): ```ssh-keygen -t ed25519 -C "электронная почта, к которой привязан ваш аккаунт на GitHub"```  
- Пример 2 (шифрование rsa): ```ssh-keygen -t rsa -b 4096 -C "электронная почта, к которой привязан ваш аккаунт на GitHub" ```  
   1) Программа попросит указать место хранения ключей. Простой вариант — сделать домашний каталог пользователя путём по умолчанию. Для этого нажмите ```Enter```.  
   2) Программа запросит кодовую фразу (англ. passphrase) для доступа к SSH-ключу. Вы можете оставить поле пустым. Для этого нажмите ```Enter```, а затем ещё раз ```Enter``` для подтверждения.  
   3) На экране должны появиться два файла — один **с расширением** ```.pub```, другой — без расширения.  
> [!CAUTION]  
> Файл в ```.pub``` — публичный, им можно делиться с веб-сайтами или коллегами.  
> Файл без расширения — приватный. Ни в коем случае не передавайте его никому!  
  
### 2.2 Привязываем SSH-ключ к GitHub  
  1. Скопируйте содержимое ```.pub``` файла  
  2. Перейдите на [GitHub](https://github.com/) и выберите **Settings** в меню аккаунта  
  3. Нажмите **SSH and GPG keys** в меню слева  
  4. Выберите **New SSH key** в открывшейся вкладке  
  5. В поле **Key type** должно быть **Authentication Key**  
  6. Вставьте содержимое файла ```.pub``` в поле **Key** и нажмите **Add SSH key**  
  7. Проверьте правильность ключа с помощью команды ```ssh -T git@github.com```  

### 2.3 Связывание с удалённым репозиторием  
- Используйте команду ```git remote add origin <ssh-ссылка типа git@github.com:%ИМЯ_АККАУНТА%/%ИМЯ_ПРОЕКТА%.git>```.  
```origin``` - это локальный псевдоним удаленного репозитория
- Чтобы убедиться, что репозитории связаны, используйте команду ```git remote -v```  

### 2.4 Копирование удаленного репозитория  
- команда ```git clone <url репозитория>``` автоматически связывает текущий локальный и указанный удалённый репозиторий.  
- Чтобы убедиться, что репозитории связаны, используйте команду ```git remote -v```

## 3 Работа с ошибками в коммитах  
### X.1 Исправление коммита   
- ```git commit --amend``` рассчитан на работу с последним коммитом (HEAD).  
- Дополнить коммит новыми файлами можно с помощью ```git commit --amend --no-edit```.  
- Благодаря опции ```--no-edit``` сообщение к коммиту останется таким, каким и было.  
- Изменить сообщение к коммиту позволяет команда ```git commit --amend -m "Обновлённое сообщение коммита"```.  
> [!TIP]  
> Если забыть указать у команды ```git commit --amend``` один из флагов (```--no-edit``` или ```-m```), Git предложит отредактировать сообщение коммита вручную. Для этого он откроет текстовый редактор, который установлен в системе по умолчанию. Чаще всего это либо **GNU nano**, либо **Vim**.  
> * Чтобы выйти из **nano** используйте ```Ctrl+X```, чтобы выйти без сохранения, или ```Ctrl+O```, чтобы сохранить результаты  
> * Чтобы выйти из **vim** нажмите ```Esc```, затем введите ```:qa!``` и нажмите ```Enter```  
  
### X.2 Отмена изменений  
* Удаление изменений в файле: ```git restore <file>``` «откатит» изменения в файле до последней сохранённой (в коммите или в staging) версии.  
* Удаление файлов из stage/cache/index: ```git restore --staged <file>``` переведёт файл из staged обратно в modified или untracked.  
* Удаление коммитов: ```git reset --hard <commit hash>``` «откатит» историю до коммита с хешем <hash>. Более поздние коммиты потеряются!  

## 4 Работа с ветками  
### 4.1 Управление ветками
```git branch``` - просмотр списка локальных веток. Флаг ```-a``` позволит посмотреть все доступные ветки.  
```git branch <название_ветки>``` - создать новую ветку  
```git checkout <название_ветки>``` - переключиться на указанную ветку  
```git checkout -b <название_ветки>``` - создать ветку и сразу переключиться на неё  
  
### 4.2 Сравнение веток  
```git diff <имя_ветки_1> <имя_ветки_2>``` 
> [!TIP]  
> ```git diff``` может сравнивать ветки по их названиям. Например, команда ```git diff main feature/my-feature``` выведет разницу между основной веткой и веткой feature/my-feature.
Git поддерживает суффикс навигации ```~```. С его помощью можно сослаться на предыдущие коммиты. Например, если вы находитесь в ветке main и хотите вывести разницу между тем коммитом, который был три коммита назад, и текущим, нужно выполнить ```git diff main~3 main```.  